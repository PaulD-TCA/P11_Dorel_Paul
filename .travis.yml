language: python
python:
  - '3.8'

branches:
  only:
    - master

before_script:
  - pip3 install -r requirements.txt

env: DJANGO_SETTINGS_MODULE="purbeurre_plateforme.settings.travis"

addons:
  firefox: latest

before_install:
- sudo apt-get install xvfb
- wget https://github.com/mozilla/geckodriver/releases/download/v0.19.0/geckodriver-v0.19.0-linux64.tar.gz

services:
  - postgresql

script:
  - python3 manage.py test functional_tests.selenium_fonc_tests search_and_sub user basics_screens
